---
title: åœ¨ Dokploy ä¸Šéƒ¨ç½² Mr.ğŸ†– AI çš„æœåŠ¡ç«¯æ•°æ®åº“ç‰ˆæœ¬
description: æœ¬æ–‡è¯¦ç»†ä»‹ç»å¦‚ä½•åœ¨ Dokploy ä¸­éƒ¨ç½²æœåŠ¡ç«¯æ•°æ®åº“ç‰ˆ Mr.ğŸ†– AIï¼ŒåŒ…æ‹¬æ•°æ®åº“é…ç½®ã€èº«ä»½éªŒè¯æœåŠ¡é…ç½®çš„è®¾ç½®æ­¥éª¤ã€‚
tags:
  - æœåŠ¡ç«¯æ•°æ®åº“
  - Postgres
  - Clerk
  - Dokployéƒ¨ç½²
  - æ•°æ®åº“é…ç½®
  - èº«ä»½éªŒè¯æœåŠ¡
  - ç¯å¢ƒå˜é‡é…ç½®
---

# åœ¨ Dokploy ä¸Šéƒ¨ç½²æœåŠ¡ç«¯æ•°æ®åº“ç‰ˆ
æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»å¦‚ä½•åœ¨ Dokploy ä¸­éƒ¨ç½²æœåŠ¡ç«¯æ•°æ®åº“ç‰ˆ Mr.ğŸ†– AIã€‚
## ä¸€ã€å‡†å¤‡å·¥ä½œ
### éƒ¨ç½² Dokploy å¹¶è¿›è¡Œç›¸å…³è®¾ç½®
```shell
curl -sSL https://dokploy.com/install.sh | sh
```
1. åœ¨ Dokploy çš„ Settings / Git å¤„æ ¹æ®æç¤ºå°† Github ç»‘å®šåˆ° Dokploy
   
![](https://github.com/user-attachments/assets/c75eb19e-e0f5-4135-91e4-55be8be8a996)

2. è¿›å…¥ Projects ç•Œé¢åˆ›å»ºä¸€ä¸ª Project

![](https://github.com/user-attachments/assets/4e04928d-0171-48d1-afff-e22fc2faaf4e)

### é…ç½® S3 å­˜å‚¨æœåŠ¡
åœ¨æœåŠ¡ç«¯æ•°æ®åº“ä¸­æˆ‘ä»¬éœ€è¦é…ç½® S3 å­˜å‚¨æœåŠ¡æ¥å­˜å‚¨æ–‡ä»¶ï¼Œè¯¦ç»†é…ç½®æ•™ç¨‹è¯·å‚è€ƒ ä½¿ç”¨ Vercel éƒ¨ç½²ä¸­ [é…ç½®S3å‚¨å­˜æœåŠ¡](https://lobehub.com/zh/docs/self-hosting/server-database/vercel#%E4%B8%89%E3%80%81-%E9%85%8D%E7%BD%AE-s-3-%E5%AD%98%E5%82%A8%E6%9C%8D%E5%8A%A1)ã€‚é…ç½®å®Œæˆåä½ å°†è·å¾—ä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼š
```shell
S3_ACCESS_KEY_ID=
S3_SECRET_ACCESS_KEY=
S3_ENDPOINT=
S3_BUCKET=
S3_PUBLIC_DOMAIN=
S3_ENABLE_PATH_STYLE=
```
### é…ç½® Clerk èº«ä»½éªŒè¯æœåŠ¡
è·å– `NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY` ã€`CLERK_SECRET_KEY` ã€`CLERK_WEBHOOK_SECRET` è¿™ä¸‰ä¸ªç¯å¢ƒå˜é‡ï¼ŒClerkçš„è¯¦ç»†é…ç½®æµç¨‹è¯·å‚è€ƒ ä½¿ç”¨ Vercel éƒ¨ç½²ä¸­ [é…ç½®èº«ä»½éªŒè¯æœåŠ¡](https://lobehub.com/zh/docs/self-hosting/server-database/vercel#äºŒã€-é…ç½®èº«ä»½éªŒè¯æœåŠ¡) 
```shell
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_live_xxxxxxxxxxx
CLERK_SECRET_KEY=sk_live_xxxxxxxxxxxxxxxxxxxxxx
CLERK_WEBHOOK_SECRET=whsec_xxxxxxxxxxxxxxxxxxxxxx
```
## äºŒã€åœ¨ Dokploy ä¸Šéƒ¨ç½²æ•°æ®åº“
è¿›å…¥å‰é¢åˆ›å»ºçš„Projectï¼Œç‚¹å‡» Create Service é€‰æ‹© Databaseï¼Œåœ¨ Database ç•Œé¢é€‰æ‹© PostgreSQL ï¼Œç„¶åè®¾ç½®æ•°æ®åº“åã€ç”¨æˆ·ã€å¯†ç ï¼Œåœ¨ Docker image ä¸­å¡«å…¥ `pgvector/pgvector:pg17` æœ€åç‚¹å‡» Create åˆ›å»ºæ•°æ®åº“ã€‚

![](https://github.com/user-attachments/assets/97899819-278f-42fd-804a-144d521d4b4f)

è¿›å…¥åˆ›å»ºçš„æ•°æ®åº“ï¼Œåœ¨ External Credentials è®¾ç½®ä¸€ä¸ªæœªè¢«å ç”¨çš„ç«¯å£ï¼Œä½¿å…¶èƒ½èƒ½é€šè¿‡å¤–éƒ¨è®¿é—®ï¼Œå¦åˆ™ Mr.ğŸ†– AI å°†æ— æ³•è¿æ¥åˆ°è¯¥æ•°æ®åº“ã€‚
ä½ å¯ä»¥åœ¨ External Host æŸ¥çœ‹ Postgres æ•°æ®åº“è¿æ¥ URL ï¼Œå¦‚ä¸‹ï¼š
```shell
postgresql://postgres:wAbLxfXSwkxxxxxx@45.577.281.48:5432/postgres
```
æœ€åç‚¹å‡» Deploy éƒ¨ç½²æ•°æ®åº“

![](https://github.com/user-attachments/assets/b4e89dd4-877b-43fe-aa42-4680de17ba8e)

## åœ¨ Dokploy ä¸Šéƒ¨ç½² Mr.ğŸ†– AI
ç‚¹å‡» Create Service é€‰æ‹© Applicationï¼Œåˆ›å»º Mr.ğŸ†– AI åº”ç”¨

![](https://github.com/user-attachments/assets/4cbbbcce-36be-48ff-bb0b-31607a0bba5c)

è¿›å…¥åˆ›å»ºçš„ Mr.ğŸ†– AI åº”ç”¨ï¼Œé€‰æ‹©ä½  fork çš„ lobe-chat é¡¹ç›®åŠåˆ†æ”¯ï¼Œç‚¹å‡» Save ä¿å­˜

![](https://github.com/user-attachments/assets/2bb4c09d-75bb-4c46-bb2f-faf538308305)

åˆ‡æ¢åˆ° Environment ï¼Œåœ¨å…¶ä¸­å¡«å…¥ç¯å¢ƒå˜é‡ï¼Œç‚¹å‡»ä¿å­˜ã€‚

![](https://github.com/user-attachments/assets/0f79c266-cce5-4936-aabd-4c8f19196d91)

```shell
# æ„å»ºæ‰€å¿…éœ€çš„ç¯å¢ƒå˜é‡
NIXPACKS_PKGS="pnpm bun"
NIXPACKS_INSTALL_CMD="pnpm install"
NIXPACKS_BUILD_CMD="pnpm run build"
NIXPACKS_START_CMD="pnpm start"

APP_URL=

# æŒ‡å®šæœåŠ¡æ¨¡å¼ä¸º server
NEXT_PUBLIC_SERVICE_MODE=server

# Postgres æ•°æ®åº“ç›¸å…³é…ç½®
DATABASE_DRIVER=node
DATABASE_URL=

# ä½ å¯ä»¥ä½¿ç”¨ openssl rand -base64 32 ç”Ÿæˆä¸€ä¸ªéšæœºçš„ 32 ä½å­—ç¬¦ä¸²ä½œä¸ºå¯†é’¥ã€‚
KEY_VAULTS_SECRET=

# Clerk ç›¸å…³é…ç½®
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=
CLERK_SECRET_KEY=
CLERK_WEBHOOK_SECRET=

# S3 ç›¸å…³é…ç½®
S3_ACCESS_KEY_ID=
S3_SECRET_ACCESS_KEY=
S3_ENDPOINT=
S3_BUCKET=
S3_PUBLIC_DOMAIN=
S3_ENABLE_PATH_STYLE=

# OpenAI ç›¸å…³é…ç½®
OPENAI_API_KEY=
OPENAI_MODEL_LIST=
OPENAI_PROXY_URL=
```
æ·»åŠ å®Œç¯å¢ƒå˜é‡å¹¶ä¿å­˜åï¼Œç‚¹å‡» Deploy è¿›è¡Œéƒ¨ç½²ï¼Œä½ å¯ä»¥åœ¨ Deployments å¤„æŸ¥çœ‹éƒ¨ç½²è¿›ç¨‹åŠæ—¥å¿—ä¿¡æ¯

![](https://github.com/user-attachments/assets/411e2002-61f0-4010-9841-18e88ca895ec)

éƒ¨ç½²æˆåŠŸååœ¨ Domains é¡µé¢ï¼Œä¸ºä½ çš„ Mr.ğŸ†– AI åº”ç”¨ç»‘å®šè‡ªå·±çš„åŸŸåå¹¶ç”³è¯·è¯ä¹¦ã€‚

![](https://github.com/user-attachments/assets/dd6bc4a4-3c20-4162-87fd-5cac57e5d7e7)

## éªŒè¯ Mr.ğŸ†– AI æ˜¯å¦æ­£å¸¸å·¥ä½œ
è¿›å…¥ä½ çš„ Mr.ğŸ†– AI ç½‘å€ï¼Œå¦‚æœä½ ç‚¹å‡»å·¦ä¸Šè§’ç™»å½•ï¼Œå¯ä»¥æ­£å¸¸æ˜¾ç¤ºç™»å½•å¼¹çª—ï¼Œé‚£ä¹ˆè¯´æ˜ä½ å·²ç»é…ç½®æˆåŠŸäº†ï¼Œå°½æƒ…äº«ç”¨å§ï½

![](https://github.com/user-attachments/assets/798ddb18-50c7-462a-a083-0c6841351d26)

